import "runtime/print.tan";
import "runtime/debug.tan";

pub fn main(argc: int, argv: char**) : int {
    var a = 0;
    var b = 1;
    var res = a | b;
    assert(res as bool); // TODO: implicit conversion
    res = a & b;
    assert(!(res as bool));

    a = 1;
    b = 2;
    var res = a | b;
    assert(res as bool);
    res = a & b;
    assert(!(res as bool));

    a = 3;
    b = 2;
    var res = a | b;
    assert(res as bool);
    res = a & b;
    assert(res as bool);
    assert(a & b == 2);

    a = ~0;
    assert(a as bool);
    assert(a == -1);

    a = ~-2;
    assert(a == 1);

    print("SUCCESS\n");
    return 0;
}